#!MANAGED-CONFIG https://raw.githubusercontent.com/halou2021/sm/main/sbit.conf interval=86400
[General]
# > é€šç”¨è®¾ç½®
# æ¨¡å¼é€‰æ‹©
compatibility-mode = 3
# å…¼å®¹æ€§ï¼ˆä»… iOS ç‰ˆå¯ç”¨ï¼‰
# 0ï¼šç¦ç”¨
# 1ï¼šProxy with Loopback Address
# 2ï¼šProxy Only
# 3ï¼šTUN Only
# 4ï¼šVIF Proxyï¼šä¸ä½¿ç”¨ 127.0.0.1 çš„å›žçŽ¯åœ°å€ä½œä¸ºä»£ç†ï¼Œä½¿ç”¨ VIF çš„è™šæ‹Ÿä»£ç†åœ°å€ï¼Œå°†äº§ç”Ÿé¢å¤–çš„æ€§èƒ½å¼€é”€
# 5ï¼šNo Default Routeï¼šä¸å£°æ˜Žä¸ºé»˜è®¤è·¯ç”±ï¼Œä½†å£°æ˜Žè‹¥å¹²ä¸ªå°è·¯ç”±ä»¥è¦†ç›–æ‰€æœ‰åœ°å€ï¼ˆä¸Ž Surge Mac å¢žå¼ºæ¨¡å¼è¡Œä¸ºç›¸åŒï¼‰ã€‚
# è¿™ç§é…ç½®ä¸‹ç”±äºŽ VIF ä¸æ˜¯ä¸»ç½‘ç»œè®¾å¤‡æ— æ³•é…ç½®ç³»ç»Ÿä»£ç†ã€‚éƒ¨åˆ†åº”ç”¨åœ¨è¯¥æ¨¡å¼ä¸‹ä¼šè®¤ä¸º VPN æœªå¼€å¯ä»¥è§£å†³ç‰¹æ®Šå…¼å®¹æ€§é—®é¢˜ï¼Œå¦‚ HomeKit Security Camera
# æ‰€æœ‰å…¼å®¹æ¨¡å¼å‡ä¸æŽ¨èé•¿æœŸå¼€å¯ï¼Œä»…åº”ç”¨ä½œç‰¹å®šé—®é¢˜çš„ä¸´æ—¶è§£å†³ä½¿ç”¨ã€‚
internet-test-url = http://www.apple.com/library/test/success.html
# ä»£ç†æµ‹é€Ÿ URL
proxy-test-url = http://www.msftconnecttest.com/connecttest.txt
# æµ‹è¯•è¶…æ—¶ï¼ˆç§’ï¼‰æ®ï¼Œå¹¶ä¸å…³å¿ƒæ•°æ®å†…å®¹ã€‚ä»…æ”¯æŒ http:// åè®®
test-timeout = 1
# UDP ä»£ç†è½¬å‘æµ‹è¯•æŒ‡å®šï¼šé»˜è®¤å‘ 8.8.8.8 æŸ¥è¯¢ apple.comï¼Œå¯ä½¿ç”¨ proxy-test-udp å‚æ•°ä¿®æ”¹ï¼Œå¦‚ proxy-test-udp = google.com@1.1.1.1
# proxy-test-udp = google.com@1.1.1.1
# å¢žå¼ºç‰ˆ Wi-Fi åŠ©ç†
# Surge ä¼šåœ¨ Wi-Fi ç½‘ç»œä¸ä½³æ—¶å°è¯•ä½¿ç”¨æ•°æ®ç½‘ç»œå»ºç«‹è¿žæŽ¥ã€‚è¯¥åŠŸèƒ½å°†å¯¹æ‰€æœ‰è¿žæŽ¥ç”Ÿæ•ˆï¼Œè¯·ä»…å½“ä½¿ç”¨ä¸é™é‡çš„æ•°æ®æµé‡æ—¶å¼€å¯ã€‚
wifi-assist = false
# æ··åˆç½‘ç»œï¼šæ— è®º Wi-Fi ä¿¡å·å¦‚ä½•ï¼Œæ€»æ˜¯å°è¯•å¹¶å‘ä½¿ç”¨ Wi-Fi å’Œæ•°æ®ç½‘ç»œè¿žæŽ¥ã€‚å¼€å¯åŽï¼Œç­‰åŒäºŽå¯¹æ‰€æœ‰ç­–ç•¥è®¾ç½® hybrid = trueï¼Œæ‰€æœ‰ TCP è¿žæŽ¥åœ¨å»ºç«‹æ—¶å‡ä¼šå¹¶å‘å°è¯•æ•°æ®ç½‘ç»œå’Œ WiFi è¿žæŽ¥ï¼Œä¹Ÿå°±è¯´å¦‚
all-hybrid = false
# åœ¨é…ç½®ä¿¡æ¯è®¾ç½®å¥½ geoip-maxmind-url åŽå»ºè®®åœ¨å›¾å½¢ç•Œé¢æ‰“å¼€ã€Œè‡ªåŠ¨æ›´æ–°ã€å¼€å…³ï¼ˆæˆ–è€…ç›´æŽ¥åœ¨å›¾å½¢ç•Œé¢ä¸­è®¾ç½® URL åŠå¼€å…³ï¼‰
# geoip-maxmind-url = https://cdn.jsdelivr.net/gh/Hackl0us/GeoIP2-CN@release/Country.mmdb
# geoip-maxmind-url = https://raw.githubusercontent.com/NobyDa/geoip/release/Private-GeoIP-CN.mmdb
# GeoIP ç¦ç”¨è‡ªåŠ¨æ›´æ–°
disable-geoip-db-auto-update = false
# æ˜¯å¦å¯åŠ¨å®Œæ•´çš„ IPv6 æ”¯æŒ (é»˜è®¤å€¼: false)å‚æ•°ï¼štrueï¼šå¼€å¯ï¼Œfalseï¼šå…³é—­
ipv6 = false
# Surge VIF IPv6 Stack
# å…è®¸ IPv6 é€šè¿‡ Surge VIFã€‚å½“å¸Œæœ› Surge å¤„ç†è¿žæŽ¥åˆ° IPv6 åœ°å€çš„åŽŸå§‹ TCP è¿žæŽ¥æ—¶éžå¸¸æœ‰ç”¨ã€‚å¯é€‰é¡¹ï¼štrueï¼Œfalseï¼Œautoï¼Œalways
ipv6-vif = auto
# âš ï¸ éšè—çŠ¶æ€æ ä¸Šçš„VPNå›¾æ ‡ï¼Œå¯åŠ¨è¯¥é€‰é¡¹å¯èƒ½å¯¼è‡´ã€ŒCannot allocate memoryã€ç³»ç»Ÿé”™è¯¯ï¼Œè¯·è°¨æ…Žä½¿ç”¨
# hide-vpn-icon = true
# Wi-Fi è®¿é—®
# Surge å¯ä»¥ä½œä¸º HTTP/SOCKS5 ä»£ç†æœåŠ¡å™¨å‘ Wi-Fi ç½‘ç»œä¸‹çš„å…¶ä»–è®¾å¤‡æä¾›æœåŠ¡å™¨
allow-wifi-access = true
# Surge Mac ä¾›å¤–ç½‘è®¿é—®çš„æœåŠ¡ç«¯å£
# HTTP æœåŠ¡ç«¯å£ (é»˜è®¤å€¼: 6152)
# http-listen = 0.0.0.0:6152
# SOCKS5 æœåŠ¡ç«¯å£ (é»˜è®¤å€¼: 6153)
# socks5-listen = 0.0.0.0:6153
# Surge iOS ä¾›å¤–ç½‘è®¿é—®çš„æœåŠ¡ç«¯å£
# HTTP æœåŠ¡ç«¯å£ (é»˜è®¤å€¼: 6152)
# wifi-access-http-port = 6152
# SOCKS5 æœåŠ¡ç«¯å£ (é»˜è®¤å€¼: 6153)
# wifi-access-socks5-port = 6153
# è¿œç¨‹æŽ§åˆ¶å™¨
# å…è®¸å¤–éƒ¨æŽ§åˆ¶å™¨è®¿é—® Surgeï¼ŒSurge Dashboard æˆ– Surge CLI è¿›è¡Œç®¡ç†æŽ§åˆ¶
# é»˜è®¤ä»…å…è®¸å¤–éƒ¨æŽ§åˆ¶å™¨é€šè¿‡ USB è¿›è¡ŒæŽ§åˆ¶ã€‚å¦‚æžœæƒ³è¦å…è®¸ç”± Wi-Fi æŽ§åˆ¶å¯ä»¥å°† 127.0.0.1 æ”¹ä¸º 0.0.0.0
external-controller-access = abc@127.0.0.1:6599
http-api = abc@0.0.0.0:6590
# ä½¿ç”¨HTTPSæ›¿ä»£HTTPåè®®ï¼Œéœ€è¦å…ˆé…ç½®Mitmçš„CAè¯ä¹¦ï¼ŒåŒæ—¶éœ€è¦åœ¨å®¢æˆ·ç«¯è®¾å¤‡ä¸Šæ‰‹åŠ¨å®‰è£…å¹¶ä¿¡ä»»CAè¯ä¹¦
http-api-tls = false
# é¡µé¢æŽ§åˆ¶å™¨ï¼šé€šè¿‡é¡µé¢æŽ§åˆ¶Surgeï¼Œ Safariè¾“å…¥127.0.0.1:6171,å¡«å…¥HTTP-APIå¯†ç å³å¯ã€‚
http-api-web-dashboard = true
# å…è®¸çƒ­ç‚¹å…±äº«
allow-hotspot-access = true
# è¯¥é€‰é¡¹å°†ä½¿å¾—å‘å¾€è¿™äº›åŸŸåæˆ–è€… IP æ®µçš„è¯·æ±‚ç”± Surge VIF è¿›è¡Œå¤„ç†ï¼ˆè€Œä¸æ˜¯ Surge Proxyï¼‰ï¼Œè¯¥é€‰é¡¹ç”¨äºŽä¿®æ­£å’ŒæŸäº›åº”ç”¨çš„å…¼å®¹æ€§é—®é¢˜ã€‚è¯¥é€‰é¡¹ä¸€èˆ¬åªç”¨äºŽå¤„ç†æŸäº›ç‰¹æ®Šçš„å…¼å®¹æ€§é—®é¢˜ï¼Œå¹¶ä¸èƒ½ä½¿è¯·æ±‚ç»•è¿‡ Surgeã€‚ï¼ˆå¯¹äºŽ Surge Macï¼Œå¦‚æžœæœªå¼€å¯ã€Œå¢žå¼ºæ¨¡å¼ã€ï¼Œç¡®å®žå¯ä»¥ç»•è¿‡ï¼‰ã€‚
# è‹¥è¦æŒ‡å®šä¸€ä¸ªåŸŸï¼Œè¯·è¾“å…¥åŸŸåã€‚å¦‚ï¼šapple.comï¼›
# è‹¥è¦æŒ‡å®šåŸŸä¸­çš„æ‰€æœ‰ç½‘ç«™ï¼Œè¯·åœ¨åŸŸåå‰ä½¿ç”¨ *ï¼Œå¦‚ï¼š*apple.comï¼›
# è‹¥è¦æŒ‡å®šåŸŸçš„ç‰¹å®šéƒ¨åˆ†ï¼Œè¯·æŒ‡å®šå®Œæ•´éƒ¨åˆ†ã€‚å¦‚ï¼šstore.apple.comï¼›
# è‹¥è¦é€šè¿‡ IP åœ°å€æŒ‡å®šä¸»æœºæˆ–ç½‘ç»œï¼Œè¯·è¾“å…¥ç‰¹å®šçš„ IP åœ°å€ï¼ˆå¦‚ 192.168.2.11ï¼‰æˆ–åœ°å€èŒƒå›´ï¼ˆå¦‚ 192.168.2.* æˆ– 192.168.2.0/24ï¼‰ï¼›
# æ³¨æ„ï¼šå¦‚æžœä½ è¾“å…¥ä¸€ä¸ª IP åœ°å€æˆ–åœ°å€èŒƒå›´ï¼Œä½ åªèƒ½åœ¨ä½¿ç”¨è¯¥åœ°å€è¿žæŽ¥åˆ°è¯¥ä¸»æœºæ—¶ç»•è¿‡ä»£ç†ï¼Œè€Œä¸èƒ½åœ¨é€šè¿‡è§£æžåˆ°è¯¥åœ°å€çš„åŸŸåè¿žæŽ¥åˆ°ä¸»æœºæ—¶ç»•è¿‡ä»£ç†ã€‚
# ####è­¦å‘Š#######
# âš ï¸ è¯·ä»…åœ¨æŒ‡å¼•ä¸‹ä½¿ç”¨ï¼Œå¼€å¯åŽéƒ¨åˆ†åŠŸèƒ½å¯èƒ½æ— æ³•ä½¿ç”¨ã€‚
# FOR MAC
# å½“ Wi-Fi ä¸æ˜¯é¦–é€‰ç½‘ç»œæ—¶ SSID ç»„ç­–ç•¥ä½¿ç”¨é»˜è®¤ç­–ç•¥ï¼ˆä»… macOS ç‰ˆå¯ç”¨ï¼‰
# use-default-policy-if-wifi-not-primary = false
# macOS Only
# enhanced-mode-by-rule = false
# Network Framework
# network-framework = false
# DNSç›¸å…³è®¾ç½®
# Hijack DNS
# é»˜è®¤æƒ…å†µä¸‹ï¼ŒSurge åªå¯¹å‘é€åˆ° Surge DNS åœ°å€(198.18.0.2)çš„ DNS æŸ¥è¯¢è¿”å›ž Fack IP åœ°å€ã€‚å‘é€åˆ°æ ‡å‡† DNS çš„æŸ¥è¯¢å°†è¢«è½¬å‘ã€‚
# å¦‚ Google ç³»æ™ºèƒ½ç¡¬ä»¶äº§å“ä¼šæ— è§† DHCP é…ç½®å¼ºè¡Œä½¿ç”¨ 8.8.8.8 å’Œ 8.8.4.4ï¼Œéœ€è¦é…ç½® Surge å¼ºè¡ŒåŠ«æŒæ‰å¯ä»¥æ­£å¸¸å·¥ä½œã€‚
# å¦å¤–è¿˜å¯ä»¥ä½¿ç”¨ hijack-dns = *:53 æ¥åŠ«æŒæ‰€æœ‰çš„ DNS æŸ¥è¯¢ã€‚
hijack-dns = 8.8.8.8:53, 1.1.1.1:53, 8.8.4.4:53
# ä¼ ç»Ÿ DNS æœåŠ¡å™¨è®¾ç½®
dns-server = 223.5.5.5, 119.29.29.29, system
# åŠ å¯† DNS æœåŠ¡å™¨è®¾ç½®
# encrypted-dns-server = https://doh.pub/dns-query,https://doh.opendns.com/dns-query
# encrypted-dns-server = https://dns.alidns.com/dns-query
# encrypted-dns-server = https://dns.google/dns-query
# encrypted-dns-server = https://cloudflare-dns.com/dns-query
# encrypted-dns-server = https://dns.adguard.com/dns-query
# encrypted-dns-server = https://public.dns.iij.jp/dns-query
# å®žéªŒæ€§ DNS ove QUIC æ”¯æŒ
# encrypted-dns-server = quic://dns.adguard.com
encrypted-dns-server = quic://dns.alidns.com
encrypted-dns-follow-outbound-mode = false
# encrypted-dns-server = https://223.6.6.6/dns-query
# ä½¿åŠ å¯† DNS è¯·æ±‚é€šè¿‡ä»£ç†ç­–ç•¥æ‰§è¡Œ
encrypted-dns-skip-cert-verification = false
# è·³è¿‡è¯ä¹¦éªŒè¯
use-local-host-item-for-proxy = true
# (macOS ç‰ˆæœ¬ä¸­ï¼Œå¦‚æžœå¯ç”¨äº† Set as System Proxy, è¿™äº›å€¼ä¼šè¢«å†™å…¥åˆ°ç³»ç»Ÿç½‘ç»œä»£ç†è®¾ç½®.)
# ä»Ž /etc/hosts ä¸­è¯»å– DNS è®°å½•ï¼ˆMACï¼‰
# read-etc-hosts = true
# å¯¹ä½¿ç”¨ä»£ç†çš„è¯·æ±‚å¼ºåˆ¶ä½¿ç”¨æœ¬åœ° DNS æ˜ å°„ç»“æžœ
# é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“ä½¿ç”¨ä»£ç†ç­–ç•¥æ—¶ï¼ŒDNS è§£æžæ°¸è¿œåœ¨ä»£ç†æœåŠ¡å™¨è¿›è¡Œã€‚
# å¼€å¯è¯¥é€‰é¡¹åŽï¼Œå¯¹äºŽå­˜åœ¨äºŽæœ¬åœ° DNS æ˜ å°„ä¸­çš„åŸŸåï¼ŒSurge å°†ä½¿ç”¨æœ¬åœ°æ˜ å°„ç»“æžœçš„ IP åœ°å€è¿›è¡Œä»£ç†è¯·æ±‚ï¼Œè€Œä¸å†ä½¿ç”¨åŽŸå§‹åŸŸåã€‚
# ä»…å¯¹ä½¿ç”¨äº† IP åœ°å€çš„æœ¬åœ°æ˜ å°„è®°å½•ç”Ÿæ•ˆã€‚
force-http-engine-hosts = *.ott.cibntv.net, 119.18.193.135, 122.14.246.33, 123.59.31.1, 175.102.178.52, 116.253.24.*, 124.193.*, 124.14*, 119.79*, 175.6.26.*, 211.162.*, 220.112.* 220.169.153.*
# æœ¬åœ° DNS æ˜ å°„
# *:0ï¼šå¯¹æ‰€æœ‰ä¸»æœºåä¸Šçš„æ‰€æœ‰ç«¯å£ä½¿ç”¨å¼ºåˆ¶ HTTP å¤„ç†ã€‚
# KOOWO - 119.18.193.135, 122.14.246.33, 123.59.31.1, 175.102.178.52
# TencentVideo/Youku/iQiyi - 116.253.24.*, 124.193.*, 124.14*, 119.79*, 175.6.26.*, 211.162.*, 220.112.* 220.169.153.*
always-real-ip = *.lan, cable.auth.com, *.msftconnecttest.com, *.msftncsi.com, network-test.debian.org, detectportal.firefox.com, resolver1.opendns.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, stun.*, localhost.*.qq.com, *.logon.battlenet.com.cn, *.logon.battle.net, *.blzstatic.cn, music.163.com, *.music.163.com, *.126.net, musicapi.taihe.com, music.taihe.com, songsearch.kugou.com, trackercdn.kugou.com, *.kuwo.cn, api-jooxtt.sanook.com, api.joox.com, joox.com, y.qq.com, *.y.qq.com, streamoc.music.tc.qq.com, mobileoc.music.tc.qq.com, isure.stream.qqmusic.qq.com, dl.stream.qqmusic.qq.com, aqqmusic.tc.qq.com, amobile.music.tc.qq.com, *.xiami.com, *.music.migu.cn, music.migu.cn, proxy.golang.org, *.mcdn.bilivideo.cn, *.cmpassport.com, id6.me, open.e.189.cn, mdn.open.wo.cn, auth.wosms.cn, *.jegotrip.com.cn, *.icitymobile.mobi, *.pingan.com.cn, *.cmbchina.com, pool.ntp.org, *.pool.ntp.org, ntp.*.com, time.*.com, ntp?.*.com, time?.*.com, time.*.gov, time.*.edu.cn, *.ntp.org.cn, PDC._msDCS.*.*, DC._msDCS.*.*, GC._msDCS.*.*, speedtest.cros.wr.pvp.net
# Always Real IP Hosts
# å½“ Surge VIF å¤„ç† DNS é—®é¢˜æ—¶ï¼Œæ­¤é€‰é¡¹è¦æ±‚ Surge è¿”å›žä¸€ä¸ªçœŸæ­£çš„ IP åœ°å€ï¼Œè€Œä¸æ˜¯ä¸€ä¸ª Fake IPã€‚
# DNS æ•°æ®åŒ…å°†è¢«è½¬å‘åˆ°ä¸Šæ¸¸ DNS æœåŠ¡å™¨ã€‚
# ä¾‹å¦‚ç”±äºŽæ¸¸æˆä¸»æœºä¼šä½¿ç”¨ STUN æŠ€æœ¯è¿›è¡Œ NAT ç©¿é€ï¼Œéœ€è¦è¿›è¡Œä¸€äº›é¢å¤–çš„é…ç½®æ‰èƒ½æ­£å¸¸å·¥ä½œã€‚
loglevel = notify
# VIF Excluded Routes
# Surge VIF åªèƒ½å¤„ç† TCP å’Œ UDP åè®®ã€‚ä½¿ç”¨æ­¤é€‰é¡¹å¯ä»¥ç»•è¿‡ç‰¹å®šçš„ IP èŒƒå›´ï¼Œå…è®¸æ‰€æœ‰æµé‡é€šè¿‡ã€‚
# è·¯ç”±é˜²ç«å¢™
# åŒ…å«æ‰€æœ‰çš„ç½‘ç»œè¯·æ±‚
# include-all-networks = false
# åŒ…å«æœ¬åœ°ç½‘ç»œè¯·æ±‚
# include-local-networks = false
# é«˜çº§
# æ—¥å¿—ç­‰çº§: warning, notify, info, verbose (é»˜è®¤å€¼: notify)
# âš ï¸ ä¸å»ºè®®åœ¨æ—¥å¸¸ä½¿ç”¨ä¸­å¯ç”¨ verboseï¼Œå› ä¸ºè¿™ä¼šä¸¥é‡é™ä½Žæ€§èƒ½ã€‚
exclude-simple-hostnames = true
# æŽ’é™¤ç®€å•ä¸»æœºå
udp-policy-not-supported-behaviour = REJECT
# å‚æ•°ç”¨äºŽæŽ§åˆ¶å½“ UDP æµé‡è¢«åŒ¹é…åˆ°ä¸€ä¸ªä¸æ”¯æŒ UDP è½¬å‘çš„ç­–ç•¥æ—¶çš„è¡Œä¸º
show-error-page-for-reject = true
# Show Reject Error Page
# å½“é‡åˆ° REJECT ç­–ç•¥æ—¶æ˜¾ç¤ºé”™è¯¯é¡µ
udp-priority = true
# å¼€å¯åŽä¼šæé«˜å¤„ç† UDP æµé‡çš„ä¼˜å…ˆçº§ï¼Œå½“ç³»ç»Ÿè´Ÿè½½é«˜æ—¶ä¼šæœ‰æ¯”è¾ƒæ˜Žæ˜¾çš„ä½œç”¨ (å¦‚é«˜æ€§èƒ½è”æœºæ¸¸æˆ)
wifi-access-http-port = 6666
wifi-access-socks5-port = 7777

[Proxy Group]
# ç­–ç•¥
Proxy = select, SG, HK, US, JP, TW, no-alert=0, hidden=0, include-all-proxies=0, policy-regex-filter=(?=.*)^((?!(æ¸¯|HK|Expire|Traffic|Hong|å°|TW|Taiwan|æ—¥æœ¬|JP|Japan|ç¾Ž|US|States|American|æ–°åŠ å¡|ç‹®|ç…|SG|Singapore)).)*$, include-other-group=æœºåœºB
# å¤–ç½‘
usingâœˆï¸ = select, update-interval=0, no-alert=0, hidden=1, include-all-proxies=0, policy-regex-filter=(?=.*)^((?!(Tra)).)*$, include-other-group=æœºåœºB
æœºåœºB = fallback, policy-path=https://s1.bnpublicsub.com/api/v1/client/subscribe?token=961b953f1d04c90c27332a8ef4d43084, update-interval=0, no-alert=1, hidden=1, include-all-proxies=0
æœºåœºF = fallback, policy-path=https://api.huacloud.xyz/sub?target=surge&ver=4&list=true&emoji=true&tfo=true&udp=true&url=https%3A%2F%2Fapi.flowercloud.xyz%2Fosubscribe.php%3Fsid%3D54787%26token%3DLh0H1KSJcKLV%26sip002%3D1, update-interval=0, no-alert=1, hidden=1, include-all-proxies=0, policy-regex-filter=(?=.*)^((?!(Expire|Traffic)).)*$
# åˆ†ç»„
HK = fallback, update-interval=0, no-alert=1, hidden=1, policy-regex-filter=(?=.*(æ¸¯|HK|(?i)Hong))^((?!(å°|æ—¥|éŸ©|æ–°|ç¾Ž)).)*$, persistent=0, include-all-proxies=0, include-other-group=usingâœˆï¸
SG = fallback, update-interval=0, policy-regex-filter=(?=.*(æ–°|ç‹®|ç…|SG|(?i)Singapore))^((?!(æ¸¯|å°|æ—¥|éŸ©|ç¾Ž)).)*$, no-alert=1, hidden=1, include-all-proxies=0, include-other-group=usingâœˆï¸
JP = fallback, update-interval=0, policy-regex-filter=(?i)(æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼çŽ‰|æ²ªæ—¥|æ·±æ—¥|JP|Japan), no-alert=1, hidden=1, include-all-proxies=0, include-other-group=usingâœˆï¸
TW = fallback, update-interval=0, policy-regex-filter=(?=.*(å°|TW|(?i)Taiwan))^((?!(æ¸¯|æ—¥|éŸ©|æ–°|ç¾Ž)).)*$, no-alert=1, hidden=1, include-all-proxies=0, include-other-group=usingâœˆï¸
US = fallback, update-interval=0, no-alert=1, hidden=1, policy-regex-filter=(?=.*(ç¾Ž|US|(?i)States|American))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°)).)*$, include-all-proxies=0, include-other-group=usingâœˆï¸
ðŸŒother = select, update-interval=0, policy-regex-filter=(?=.*)^((?!(ðŸ‡­ðŸ‡°|æ¸¯|HK|Tra|Exp|Hong|å°|TW|Taiwan|ðŸ‡¯ðŸ‡µ|æ—¥æœ¬|JP|Japan|ðŸ‡ºðŸ‡¸|ç¾Ž|US|States|American|ðŸ‡¸ðŸ‡¬|æ–°åŠ å¡|ç‹®|ç…|SG|Singapore)).)*$, no-alert=0, hidden=1, include-all-proxies=0, include-other-group=usingâœˆï¸
Home = fallback, DIRECT, no-alert=1, hidden=1, include-all-proxies=0

[Rule]
# home
# IP-CIDR,192.168.2.0/24,Home,no-resolve
# æ‹’ç»
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/BlockHttpDNS/BlockHttpDNS.list,REJECT,no-resolve
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Privacy/Privacy_All_No_Resolve.list,REJECT,no-resolve
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/EasyPrivacy/EasyPrivacy_All_No_Resolve.list,REJECT,no-resolve
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Hijacking/Hijacking.list,REJECT,no-resolve
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Advertising/Advertising_All_No_Resolve.list,REJECT,no-resolve
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/AdGuardSDNSFilter/AdGuardSDNSFilter_All_No_Resolve.list,REJECT,no-resolve
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/AdGuardSDNSFilter/Direct/Direct.list,DIRECT,no-resolve
# ç”µæŠ¥
RULE-SET,https://raw.githubusercontent.com/halou2021/sm/main/tg.list,Proxy
# æŽ¨ç‰¹
RULE-SET,https://github.com/blackmatrix7/ios_rule_script/raw/master/rule/Surge/Twitter/Twitter.list,Proxy
# è°·æ­Œ
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Google/Google.list,Proxy
# > Netflix
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Netflix/Netflix.list,SG
# > Disney+
RULE-SET,https://github.com/blackmatrix7/ios_rule_script/raw/master/rule/Surge/Disney/Disney.list,SG
# > ç¾Žå›½åª’ä½“
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Hulu/Hulu.list,US
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/HBO/HBO.list,US
RULE-SET,https://github.com/blackmatrix7/ios_rule_script/blob/master/rule/Surge/DiscoveryPlus/DiscoveryPlus.list,US
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Spotify/Spotify.list,US
# Chat GPT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/OpenAI/OpenAI.list,US
# å¾®è½¯
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Microsoft/Microsoft.list,US
# download
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Download/Download.list,DIRECT
# >è‹¹æžœæœåŠ¡
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple_All_No_Resolve.list,DIRECT,no-resolve
# å¤šé‚»å›½
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Duolingo/Duolingo.list,DIRECT
# å¾®ä¿¡
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/WeChat/WeChat.list,DIRECT
# > å…¨çƒç½‘
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Global/Global_All_No_Resolve.list,Proxy,no-resolve
# > Surge çš„è‡ªåŠ¨ REJECT ä¿æŠ¤ä¸¢åŒ…ï¼Œé˜²æ­¢åº”ç”¨å¾ªçŽ¯è¯·æ±‚
IP-CIDR,0.0.0.0/32,REJECT,no-resolve
# > å†…ç½®è§„åˆ™
RULE-SET,SYSTEM,DIRECT
RULE-SET,LAN,DIRECT
# > GeoIP China
GEOIP,CN,DIRECT
# > Asn.china
# RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/ChinaASN/ChinaASN.list,DIRECT,no-resolve
# > dnsæŸ¥è¯¢å¤±è´¥èµ°final
FINAL,Proxy,dns-failed

[Host]
# *emby.* = visa.cn
# è¯¥æ®µå®šä¹‰æœ¬åœ° DNS è®°å½•
# è¯¥åŠŸèƒ½ç­‰åŒäºŽ /etc/hostsï¼ŒåŠ ä¸Šäº†æ³›è§£æžå’Œåˆ«åæ”¯æŒã€‚
# DNS å…¨éƒ¨äº¤ç»™ç³»ç»Ÿå¤„ç†
# * = server:syslib
# æœ¬åœ°å€¼
# ç‰¹å®š DNS æœåŠ¡å™¨
# > Aplle
# token.safebrowsing.apple = 17.253.85.207
# proxy.safebrowsing.apple = 17.253.85.208
# iosapps.itunes.apple.com = 17.253.85.201,17.253.87.201
# iosapps.itunes.g.aaplimg.com = 17.253.85.206
# k128-iosapps-all.gslb.ksyuncdn.com = 17.253.85.201
# iosapps.itunes.apple.com.m.alikunlun.net = 17.253.85.201
# iosapps.itunes.apple.com.download.ks-cdn.com = 17.253.85.201
# hls.itunes.apple.com.mwcname.com = 17.253.85.201
# iosapps-cn-lb.dl-apple.com.akadns.net = 17.253.85.201
# å…¶ä»–
*.tw = server:1.1.1.1
testflight.apple.com = server:8.8.8.8
router.asus.com = server:syslib
*.tmall.com = server:223.5.5.5
*.taobao.com = server:223.5.5.5
*.alicdn.com = server:223.5.5.5
*.aliyun.com = server:223.5.5.5
*.alipay*.com = server:223.5.5.5
*.alibaba*.com = server:223.5.5.5
*.alimama*.com = server:223.5.5.5
*.qq.com = server:119.29.29.29
*.tencent.com = server:119.29.29.29
*.weixin.com = server:119.29.29.29
*.qpic.cn = server:119.29.29.29
*.jd.com = server:119.29.29.29
*.bilibili.com = server:119.29.29.29
hdslb.com = server:119.29.29.29
*.163.com = server:119.29.29.29
*.126.com = server:119.29.29.29
*.126.net = server:119.29.29.29
*.127.net = server:119.29.29.29
*.netease.com = server:119.29.29.29
*.10010.com = server:119.29.29.29
*.unicompayment.com = server:119.29.29.29
*.vercel.app = server:119.29.29.29
*.vercel.com = server:119.29.29.29
*.ximalaya.com = server:119.29.29.29
*.baidu.com = server:119.29.29.29
*.bdstatic.com = server:119.29.29.29

[URL Rewrite]
^https?://(www.)?g.cn https://www.google.com 302
^https?://(www.)?google.cn https://www.google.com 302

[SSID Setting]
TYPE:CELLULAR tfo-behaviour=force-disabled
"SSID:Unlimited Hotspot" tfo-behaviour=force-disabled, encrypted-dns-server="https://edns.apad.pro:3306/cn-query,https://cn-east.iqiqzz.com/cdn"
TYPE:WIFI tfo-behaviour=force-enabled

[MITM]
skip-server-cert-verify = true
# client-source-address = -127.0.0.1,*
